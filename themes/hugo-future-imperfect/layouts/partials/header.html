<!DOCTYPE HTML>
<!--
    Future Imperfect by HTML5 UP
    html5up.net | @n33co
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
    <head>
        {{ with $.Scratch.Get "generalTitle" }}
            {{ $.Scratch.Set "title" . }}
        {{ else }}
            {{ with .Title }}
                {{ $.Scratch.Set "title" . }}
            {{ else }}
                {{ $.Scratch.Set "title" .Site.Title }}
            {{ end }}
        {{ end }}

        <title>{{ $.Scratch.Get "title" }}{{ .Params.spliter }}</title>

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        {{ .Hugo.Generator }}
        {{ partial "favicon" . }}

        {{ with .Params.author }}
            <meta name="author" content="{{ . }}">
        {{ end }}
        {{ with .Description }}
            <meta name="description" content="{{ . }}">
        {{ else }}
            {{ with .Site.Params.description }}
                <meta name="description" content="{{ . }}">
            {{ end }}
        {{ end }}

        {{ template "_internal/twitter_cards.html" . }}
        {{ template "_internal/opengraph.html" . }}
        {{ template "_internal/schema.html" . }}
        {{ template "_internal/google_news.html" . }}

        {{ if isset .Site.Params "customcss" }}
            {{ $.Scratch.Set "cssFiles" .Site.Params.customCSS }}
        {{ else }}
            {{ $.Scratch.Set "cssFiles" false }}
        {{ end }}

        <!-- If the value "default" is passed into the param then we will first
             load the standard css files associated with the theme -->
        {{ if or (in ($.Scratch.Get "cssFiles") "default") (eq ($.Scratch.Get "cssFiles") false) }}
            <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700"> -->
            <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
            <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css"> -->
            <link rel="stylesheet" href="{{ "css/main.css" | relURL }}">
            <!-- <link rel="stylesheet" href="{{ "css/add-on.css" | relURL }}"> -->
        {{ end }}

        {{ if ne ($.Scratch.Get "cssFiles") false }}
            {{ range $.Scratch.Get "cssFiles" }}
                {{ if ne . "default" }}
                    <link rel="stylesheet" href="{{ . | relURL }}">
                {{ end }}
            {{ end }}
        {{ end }}

        {{ if .IsHome }}
            {{ $.Scratch.Set "recentPosts" .Site.Pages }}
            {{ range first 1 (where ($.Scratch.Get "recentPosts") "Type" "post") }}
                <script>
                    window.location.replace("{{ .RelPermalink | absURL }}");
                </script>
            {{ end }}
        {{ end }}

        <!-- {{ template "_internal/google_analytics_async.html" . }} -->
        <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', '{{ .Site.GoogleAnalytics }}', 'auto');
            // https://github.com/googleanalytics/autotrack plugin
            ga('require', 'cleanUrlTracker');
            ga('require', 'eventTracker');
            ga('require', 'impressionTracker');
            ga('require', 'maxScrollTracker');
            ga('require', 'mediaQueryTracker');
            ga('require', 'outboundFormTracker');
            ga('require', 'outboundLinkTracker');
            ga('require', 'pageVisibilityTracker');
            ga('require', 'socialWidgetTracker');
            ga('require', 'urlChangeTracker');
            ga('send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js"></script>
        <script async src="/js/autotrack.js"></script>
    </head>
    <body>

      <!-- Wrapper -->
      <div id="wrapper">
